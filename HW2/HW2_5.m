% A5 = [1,1,0,0,0;2,2,2,0,0;0,3,3,1,0;0,0,5,4,2;0,0,0,3,5]; n = 5;
A5 = [1 1 0; 1 2 1; 0 1 2]; n = 3;
P5 = eye(n); L5 = eye(n);
for i = 1:n-1
    if A5(i,i)<A5(i+1,i)
        tmp = A5(i,:); A5(i,:) = A5(i+1,:); A5(i+1,:) = tmp; 
        tmp = P5(i,:); P5(i,:) = P5(i+1,:); P5(i+1,:) = tmp;
    end
    tmp = A5(i+1,i)/A5(i,i);
    A5(i+1,i:end) = A5(i+1,i:end) - A5(i+1,i)/A5(i,i)*A5(i,i:end);
    A5(i+1,i) = tmp;
end
for i = 1 : n-1
    L5(i+1:end,i) = A5(i+1:end,i); A5(i+1:end,i) = 0;
end
U5 = A5;
% disp(P5*[1,1,0,0,0;2,2,2,0,0;0,3,3,1,0;0,0,5,4,2;0,0,0,3,5] - L5*U5)
disp(P5*[1 1 0; 1 2 1; 0 1 2] - L5*U5)